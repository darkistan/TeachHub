# ü§ñ Schedule Bot v2.0

Telegram –±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –Ω–∞–≤—á–∞–ª—å–Ω–∏–º —Ä–æ–∑–∫–ª–∞–¥–æ–º –∑ SQLite –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö —Ç–∞ Flask –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

**GitHub:** https://github.com/darkistan/Schedule-Bot-v2.0

---

## ‚ö° –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

```batch
# 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (–æ–¥–∏–Ω —Ä–∞–∑)
setup.bat

# 2. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ + –≤–µ–±
start_all.bat

# 3. –í—ñ–¥–∫—Ä–∏—Ç–∏ –≤–µ–±
http://127.0.0.1:5000
```

---

## üéØ –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

### ü§ñ Telegram –±–æ—Ç
- üìÖ –†–æ–∑–∫–ª–∞–¥ –Ω–∞ –¥–µ–Ω—å/—Ç–∏–∂–¥–µ–Ω—å (—á–∏—Å–µ–ª—å–Ω–∏–∫/–∑–Ω–∞–º–µ–Ω–Ω–∏–∫)
- ‚è∞ –¢–∞–π–º–µ—Ä –ø–æ—Ç–æ—á–Ω–æ—ó –ø–∞—Ä–∏ –∑ –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä–æ–º
- üìä –ê–Ω–∞–ª—ñ–∑ –Ω–∞–≤—á–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—É
- üîî –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –∑–∞ 10 —Ö–≤ –¥–æ –∑–∞–Ω—è—Ç—å
- üì¢ –î–æ—à–∫–∞ –æ–≥–æ–ª–æ—à–µ–Ω—å
- üö® –°—Ç–∞—Ç—É—Å –ø–æ–≤—ñ—Ç—Ä—è–Ω–∏—Ö —Ç—Ä–∏–≤–æ–≥
- üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω–∞

**–ö–æ–º–∞–Ω–¥–∏:** `/start` `/menu` `/today` `/week` `/admin` `/help`

### üåê –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (http://127.0.0.1:5000)

**Dashboard** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º–∏, –æ—Å—Ç–∞–Ω–Ω—ñ –ª–æ–≥–∏

**–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ** - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–æ—Å—Ç—É–ø–æ–º:
- –î–æ–¥–∞–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- –°—Ö–≤–∞–ª–µ–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ –¥–æ—Å—Ç—É–ø
- –ü–µ—Ä–µ–≥–ª—è–¥ —Å–ø–∏—Å–∫—É –∑ –æ–ø–æ–≤—ñ—â–µ–Ω–Ω—è–º–∏

**–†–æ–∑–∫–ª–∞–¥** - –ø–æ–≤–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è:
- ‚ûï –î–æ–¥–∞–≤–∞–Ω–Ω—è –∑–∞–Ω—è—Ç—å (–¥–µ–Ω—å, —á–∞—Å, –ø—Ä–µ–¥–º–µ—Ç, –≤–∏–∫–ª–∞–¥–∞—á, Google Meet)
- ‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
- üóëÔ∏è –í–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞–Ω—è—Ç—å
- üìä –ü–µ—Ä–µ–≥–ª—è–¥ –ø–æ –¥–Ω—è—Ö —Ç–∏–∂–Ω—è (tabs)
- üîÑ –ß–∏—Å–µ–ª—å–Ω–∏–∫/–∑–Ω–∞–º–µ–Ω–Ω–∏–∫

**–û–≥–æ–ª–æ—à–µ–Ω–Ω—è** - —Å–∏—Å—Ç–µ–º–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å:
- ‚ûï –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–≥–æ–ª–æ—à–µ–Ω—å
- ‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É
- üéØ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏ (–∑–≤–∏—á–∞–π–Ω–µ/–≤–∞–∂–ª–∏–≤–µ/—Ç–µ—Ä–º—ñ–Ω–æ–≤–µ)
- ‚úÖ –ê–∫—Ç–∏–≤–∞—Ü—ñ—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü—ñ—è
- üì¢ –†–æ–∑—Å–∏–ª–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º

**–ü—Ä–æ–≥—Ä–µ—Å –Ω–∞–≤—á–∞–Ω–Ω—è** - –∞–∫–∞–¥–µ–º—ñ—á–Ω–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä:
- ‚ûï –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø–µ—Ä—ñ–æ–¥—ñ–≤ (—Å–µ—Å—ñ—ó, –∫–∞–Ω—ñ–∫—É–ª–∏, –ø—Ä–∞–∫—Ç–∏–∫–∞)
- ‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –¥–∞—Ç —Ç–∞ –æ–ø–∏—Å—ñ–≤
- üé® –í–∏–±—ñ—Ä –∫–æ–ª—å–æ—Ä—É (emoji)
- üìä Timeline –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è

**–õ–æ–≥–∏** - —Å–∏—Å—Ç–µ–º–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥:
- üîç –§—ñ–ª—å—Ç—Ä–∏ –ø–æ —Ä—ñ–≤–Ω—é (INFO/ERROR/WARNING/SECURITY)
- üìÖ –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è (100/—Å—Ç–æ—Ä—ñ–Ω–∫–∞)
- üé® –ö–æ–ª—å–æ—Ä–æ–≤–µ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è

**–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è** - –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:
- –ì—Ä—É–ø–∞, –Ω–∞–≤—á–∞–ª—å–Ω–∏–π —Ä—ñ–∫
- –¢–∏–ø —Ç–∏–∂–Ω—è (—á–∏—Å–µ–ª—å–Ω–∏–∫/–∑–Ω–∞–º–µ–Ω–Ω–∏–∫)

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞:
- –¢–æ–ø-10 –∫–æ–º–∞–Ω–¥
- –ê–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –ø–æ –¥–Ω—è—Ö

### ‚ú® –ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:
- üåì **–¢–µ–º–Ω–∞/—Å–≤—ñ—Ç–ª–∞ —Ç–µ–º–∞** (–ø–µ—Ä–µ–º–∏–∫–∞—á —É navbar, –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è)
- üö® **–°—Ç–∞—Ç—É—Å —Ç—Ä–∏–≤–æ–≥–∏** (–∞–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–∂–Ω—É —Ö–≤–∏–ª–∏–Ω—É, –ø—É–ª—å—Å–∞—Ü—ñ—è)

---

## üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –í–∏–º–æ–≥–∏:
- Python 3.8+ (–ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ –Ω–∞ 3.13)
- Git

### –ö—Ä–æ–∫ 1: –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è
```bash
git clone https://github.com/darkistan/Schedule-Bot-v2.0.git
cd Schedule-Bot-v2.0
```

### –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
```batch
setup.bat
```

–¶–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- –°—Ç–≤–æ—Ä–∏—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ (venv)
- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
- –°—Ç–≤–æ—Ä–∏—Ç—å config.env –∑ —à–∞–±–ª–æ–Ω—É
- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î –±–∞–∑—É –¥–∞–Ω–∏—Ö

### –ö—Ä–æ–∫ 3: –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `config.env`:
```env
TELEGRAM_BOT_TOKEN=your_bot_token  # –≤—ñ–¥ @BotFather
# ADMIN_USER_ID –±—ñ–ª—å—à–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è - –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ü—ñ—è —Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
ALERTS_API_TOKEN=your_token         # –∑ alerts.in.ua
AIR_ALERT_CITY=–î–Ω—ñ–ø—Ä–æ              # –≤–∞—à–µ –º—ñ—Å—Ç–æ
```

**–Ø–∫ –¥—ñ–∑–Ω–∞—Ç–∏—Å—è Telegram ID:**
- –ù–∞–ø–∏—à—ñ—Ç—å –±–æ—Ç—É @userinfobot
- –ê–±–æ –ø–µ—Ä—à–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤ –ª–æ–≥–∞—Ö –ø—ñ—Å–ª—è /start

### –ö—Ä–æ–∫ 4: –ó–∞–ø—É—Å–∫
```batch
start_all.bat
```

–í—ñ–¥–∫—Ä–∏—é—Ç—å—Å—è 2 –≤—ñ–∫–Ω–∞:
- Telegram –±–æ—Ç
- –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (http://127.0.0.1:5000)

---

## üì± –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### Telegram –±–æ—Ç:
1. –ó–Ω–∞–π–¥—ñ—Ç—å –≤–∞—à–æ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–ø–∏—à—ñ—Ç—å `/start`
3. –ê–¥–º—ñ–Ω –ø–æ–±–∞—á–∏—Ç—å –º–µ–Ω—é –æ–¥—Ä–∞–∑—É
4. –Ü–Ω—à—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ - –∑–∞–ø–∏—Ç –Ω–∞ –¥–æ—Å—Ç—É–ø

### –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ http://127.0.0.1:5000
2. Dashboard - –∑–∞–≥–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
3. –†–æ–∑–∫–ª–∞–¥ - –¥–æ–¥–∞–≤–∞–π—Ç–µ/—Ä–µ–¥–∞–≥—É–π—Ç–µ –∑–∞–Ω—è—Ç—Ç—è
4. –û–≥–æ–ª–æ—à–µ–Ω–Ω—è - —Å—Ç–≤–æ—Ä—é–π—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
5. –ü—Ä–æ–≥—Ä–µ—Å –Ω–∞–≤—á–∞–Ω–Ω—è - –∫–µ—Ä—É–π—Ç–µ –ø–µ—Ä—ñ–æ–¥–∞–º–∏

**–í—Å—ñ –∑–º—ñ–Ω–∏ —á–µ—Ä–µ–∑ –≤–µ–± –æ–¥—Ä–∞–∑—É –∑'—è–≤–ª—è—é—Ç—å—Å—è –≤ –±–æ—Ç—ñ!**

---

## üîß –ö–æ–º–∞–Ω–¥–∏ .bat

| –§–∞–π–ª | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|------|-------------|
| `setup.bat` | –ü–æ—á–∞—Ç–∫–æ–≤–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (–æ–¥–∏–Ω —Ä–∞–∑) |
| `start_all.bat` | –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ + –≤–µ–± (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ) |
| `start_bot.bat` | –¢—ñ–ª—å–∫–∏ Telegram –±–æ—Ç |
| `start_web.bat` | –¢—ñ–ª—å–∫–∏ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å |

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

**SQLite** –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É:
- ‚úÖ WAL mode (–≤–µ–± —ñ –±–æ—Ç –ø—Ä–∞—Ü—é—é—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω–æ)
- ‚úÖ Retry logic (3 —Å–ø—Ä–æ–±–∏ –ø—Ä–∏ –±–ª–æ–∫—É–≤–∞–Ω–Ω—ñ)
- ‚úÖ Connection pool (–¥–æ 30 –∑'—î–¥–Ω–∞–Ω—å)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π backup

**10 —Ç–∞–±–ª–∏—Ü—å:**
- users, pending_requests
- schedule_entries, schedule_metadata
- academic_periods
- announcements
- notification_history, notification_settings
- logs, bot_config

---

## üîí –ë–µ–∑–ø–µ–∫–∞

- ‚úÖ CSRF –∑–∞—Ö–∏—Å—Ç (–±–æ—Ç + –≤–µ–±)
- ‚úÖ –°–µ–∫—Ä–µ—Ç–∏ –≤ config.env (–Ω–µ –≤ git)
- ‚úÖ –í–µ–± —Ç—ñ–ª—å–∫–∏ –Ω–∞ localhost
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤–≤–æ–¥—É
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è

---

## üÜò –ü—Ä–æ–±–ª–µ–º–∏?

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è:
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `TELEGRAM_BOT_TOKEN` –≤ config.env
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ —Ñ–∞–π–ª `schedule_bot.db` —ñ—Å–Ω—É—î

### –í–µ–± –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è:
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –ø–æ—Ä—Ç 5000 –≤—ñ–ª—å–Ω–∏–π
- –ó–∞–ø—É—Å—Ç—ñ—Ç—å: `venv\Scripts\python.exe run_web.py`

### "Database is locked":
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞ —Ç–∞ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- WAL mode –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —É–≤—ñ–º–∫–Ω–µ–Ω–æ —á–µ—Ä–µ–∑ `database.py`

### –ü—É—Å—Ç—ñ –¥–∞–Ω—ñ:
- –Ü–º–ø–æ—Ä—Ç—É–π—Ç–µ backup —á–µ—Ä–µ–∑ –≤–µ–±
- –ê–±–æ –¥–æ–¥–∞–π—Ç–µ –≤—Ä—É—á–Ω—É —á–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üìö –¢–µ—Ö–Ω—ñ—á–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

–î–µ—Ç–∞–ª—å–Ω–∞ —Ç–µ—Ö–Ω—ñ—á–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è: [`TECHNICAL.md`](TECHNICAL.md)

---

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License ¬© 2025

---

**–ì–æ—Ç–æ–≤–∏–π –¥–æ —Ä–æ–±–æ—Ç–∏ –ø—Ä–æ–µ–∫—Ç!** üöÄ

–ó–∞–ø—É—Å—Ç—ñ—Ç—å `start_all.bat` —Ç–∞ –ø–æ—á–Ω—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è.
