# ‚úÖ –£–°–¢–ê–ù–û–í–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê - Schedule Bot v2.0

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è!  
**–í–µ—Ä—Å—ñ—è:** 2.0 (SQLite + Flask)  
**Python:** 3.13  
**SQLAlchemy:** 2.0.44 (—Å—É–º—ñ—Å–Ω–∞ –≤–µ—Ä—Å—ñ—è)  

---

## ‚úÖ –©–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Ç–∞ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ:

### üíæ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
- ‚úÖ SQLAlchemy 2.0.44 (–æ–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è Python 3.13)
- ‚úÖ SQLite –∑ WAL mode
- ‚úÖ 10 —Ç–∞–±–ª–∏—Ü—å —Å—Ç–≤–æ—Ä–µ–Ω–æ
- ‚úÖ –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∏–π –¥–æ—Å—Ç—É–ø –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ

### üåê Flask –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ Flask 3.0.0
- ‚úÖ Flask-WTF 1.2.1 (CSRF)
- ‚úÖ 8 —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –≥–æ—Ç–æ–≤—ñ
- ‚úÖ Bootstrap 5

### ü§ñ Telegram –±–æ—Ç
- ‚úÖ python-telegram-bot 20.8
- ‚úÖ –í—Å—ñ –º–æ–¥—É–ª—ñ –æ–Ω–æ–≤–ª–µ–Ω—ñ –¥–ª—è –ë–î
- ‚úÖ 0 –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –≤—ñ–¥ JSON

### üöÄ –§–∞–π–ª–∏ –∑–∞–ø—É—Å–∫—É
- ‚úÖ setup.bat
- ‚úÖ start_all.bat
- ‚úÖ start_bot.bat
- ‚úÖ start_web.bat

---

## üéØ –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ó–ê–†–ê–ó:

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –í—Å–µ –æ–¥—Ä–∞–∑—É (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
```batch
start_all.bat
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 2 –≤—ñ–∫–Ω–∞ - –±–æ—Ç + –≤–µ–±

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –û–∫—Ä–µ–º–æ
```batch
REM –í—ñ–∫–Ω–æ 1
start_bot.bat

REM –í—ñ–∫–Ω–æ 2
start_web.bat
```

### –í–∞—Ä—ñ–∞–Ω—Ç 3: –í—Ä—É—á–Ω—É
```batch
REM –ê–∫—Ç–∏–≤—É–π—Ç–µ venv
venv\Scripts\activate

REM –ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞
python bot.py

REM –í —ñ–Ω—à–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –∑–∞–ø—É—Å—Ç—ñ—Ç—å –≤–µ–±
python run_web.py
```

---

## üåê –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**–ê–¥—Ä–µ—Å–∞:** http://127.0.0.1:5000

**–°—Ç–æ—Ä—ñ–Ω–∫–∏:**
1. `/` - Dashboard (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
2. `/users` - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
3. `/schedule` - –†–æ–∑–∫–ª–∞–¥
4. `/announcements` - –û–≥–æ–ª–æ—à–µ–Ω–Ω—è
5. `/logs` - –°–∏—Å—Ç–µ–º–Ω—ñ –ª–æ–≥–∏
6. `/settings` - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
7. `/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ:

### 1. –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```
‚úÖ –ó–∞–ø—É—â–µ–Ω–æ: http://127.0.0.1:5000
‚úÖ SQLAlchemy –ø—Ä–∞—Ü—é—î
‚úÖ –ë–î —Å—Ç–≤–æ—Ä–µ–Ω–∞
‚úÖ –¢–∞–±–ª–∏—Ü—ñ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ
```

### 2. –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
```bash
python check_db_status.py
```
**–ú–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏:**
- ‚úÖ WAL mode —É–≤—ñ–º–∫–Ω–µ–Ω–∏–π
- ‚úÖ Busy timeout 30000 –º—Å
- ‚úÖ 10 —Ç–∞–±–ª–∏—Ü—å —Å—Ç–≤–æ—Ä–µ–Ω–æ

### 3. Telegram –±–æ—Ç
```batch
python bot.py
```
**–ú–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏:**
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞
- ‚úÖ –û–±—Ä–æ–±–Ω–∏–∫ —Ä–æ–∑–∫–ª–∞–¥—É —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
- ‚úÖ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω–æ!

---

## üîí –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∏–π –¥–æ—Å—Ç—É–ø –ü–†–ê–¶–Æ–Ñ

**–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:**
- ‚úÖ WAL Mode - –æ–¥–Ω–æ—á–∞—Å–Ω–µ —á–∏—Ç–∞–Ω–Ω—è/–∑–∞–ø–∏—Å
- ‚úÖ Busy Timeout 30s - –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è
- ‚úÖ Retry Logic - 3 —Å–ø—Ä–æ–±–∏
- ‚úÖ Connection Pool - 30 –∑'—î–¥–Ω–∞–Ω—å

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
‚úÖ –í–µ–± —ñ –±–æ—Ç –ø—Ä–∞—Ü—é—é—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω–æ –ë–ï–ó –±–ª–æ–∫—É–≤–∞–Ω—å!

---

## üìÅ –ß–∏—Å—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–±–µ–∑ JSON)

### –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ:
```bash
grep -r "\.json" *.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ 0 –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—å JSON –≤ –∫–æ–¥—ñ (–æ–∫—Ä—ñ–º air_alert.py –¥–ª—è API)

### –í–∏–¥–∞–ª–µ–Ω–æ:
- ‚ùå migrate_to_db.py
- ‚ùå MIGRATION_SUMMARY.md
- ‚ùå FINAL_REPORT.md
- ‚ùå –í—Å—ñ JSON —Ñ–∞–π–ª–∏ –¥–∞–Ω–∏—Ö

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

### –ì–æ–ª–æ–≤–Ω—ñ —Ñ–∞–π–ª–∏:
1. **START_HERE.md** ‚≠ê - –ø–æ—á–Ω—ñ—Ç—å —Ç—É—Ç!
2. **README.md** - –ø–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
3. **QUICK_START.md** - 4 –∫—Ä–æ–∫–∏ –¥–æ –∑–∞–ø—É—Å–∫—É
4. **USER_GUIDE.md** - —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
5. **DB_CONCURRENCY_GUIDE.md** - –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ñ—Å—Ç—å

---

## üéâ –í–°–ï –ì–û–¢–û–í–û!

**–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç—ñ—Ç—å:**
```batch
start_all.bat
```

**–Ü –ø–æ—á–Ω—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è:**
- ü§ñ Telegram: /start ‚Üí /menu
- üåê –í–µ–±: http://127.0.0.1:5000

---

**–£—Å–ø—ñ—à–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∑ Schedule Bot v2.0!** üöÄ



