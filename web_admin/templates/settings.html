{% extends "base.html" %}
{% block title %}–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è - TeachHub Admin{% endblock %}
{% block content %}
<h1><i class="bi bi-gear"></i> –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏</h1>
<form method="POST" action="{{url_for('update_settings')}}">
<input type="hidden" name="csrf_token" value="{{csrf_token()}}"/>
<div class="mb-3"><label>–ù–∞–∑–≤–∞ –Ω–∞–≤—á–∞–ª—å–Ω–æ–≥–æ –∑–∞–∫–ª–∞–¥—É</label><input type="text" class="form-control" name="group_name" value="{{metadata.group_name if metadata}}"></div>
<div class="mb-3"><label>–ù–∞–≤—á–∞–ª—å–Ω–∏–π —Ä—ñ–∫</label><input type="text" class="form-control" name="academic_year" value="{{metadata.academic_year if metadata}}"></div>
<div class="mb-3">
    <label>–¢–∏–ø —Ç–∏–∂–Ω—è</label>
    <select class="form-select" name="current_week">
        <option value="numerator" {{'selected' if metadata and metadata.current_week=='numerator'}}>–ß–∏—Å–µ–ª—å–Ω–∏–∫</option>
        <option value="denominator" {{'selected' if metadata and metadata.current_week=='denominator'}}>–ó–Ω–∞–º–µ–Ω–Ω–∏–∫</option>
    </select>
    <small class="text-muted">
        <i class="bi bi-info-circle"></i> <strong>–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –≤–≤–∞–∂–∞—î—Ç—å—Å—è –≤—ñ–¥–ª—ñ–∫–æ–≤–∏–º.</strong> –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏–º–µ—Ç—å—Å—è –º—ñ–∂ —á–∏—Å–µ–ª—å–Ω–∏–∫–æ–º —Ç–∞ –∑–Ω–∞–º–µ–Ω–Ω–∏–∫–æ–º –∫–æ–∂–Ω—É –Ω–µ–¥—ñ–ª—é –Ω–∞ –æ—Å–Ω–æ–≤—ñ –¥–∞—Ç–∏ –ø–æ—á–∞—Ç–∫—É –≤—ñ–¥–ª—ñ–∫—É.
        {% if metadata and metadata.numerator_start_date %}
        <br>üìÖ <strong>–î–∞—Ç–∞ –ø–æ—á–∞—Ç–∫—É –≤—ñ–¥–ª—ñ–∫—É:</strong> {{metadata.numerator_start_date}} ({{'–ß–∏—Å–µ–ª—å–Ω–∏–∫' if metadata.current_week == 'numerator' else '–ó–Ω–∞–º–µ–Ω–Ω–∏–∫'}})
        {% if current_week_type %}
        <br>üîÑ <strong>–ü–æ—Ç–æ—á–Ω–∏–π —Ç–∏–ø —Ç–∏–∂–Ω—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ):</strong> <span class="badge bg-{{'primary' if current_week_type == 'numerator' else 'warning'}}">{{'–ß–∏—Å–µ–ª—å–Ω–∏–∫' if current_week_type == 'numerator' else '–ó–Ω–∞–º–µ–Ω–Ω–∏–∫'}}</span>
        {% endif %}
        {% if next_switch_date %}
        <br>üìÜ <strong>–ù–∞—Å—Ç—É–ø–Ω–µ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è:</strong> {{next_switch_date.strftime('%d.%m.%Y')}} (–Ω–µ–¥—ñ–ª—è)
        {% endif %}
        {% else %}
        <br><span class="text-warning">‚ö†Ô∏è –î–∞—Ç–∞ –ø–æ—á–∞—Ç–∫—É –≤—ñ–¥–ª—ñ–∫—É –±—É–¥–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ.</span>
        {% endif %}
    </small>
</div>
<button type="submit" class="btn btn-primary">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
</form>

<!-- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è -->
<div class="card mt-4 border-info">
    <div class="card-header bg-info text-white">
        <h5 class="mb-0"><i class="bi bi-key"></i> –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h5>
    </div>
    <div class="card-body">
        <p>–Ø–∫—â–æ –≤–∏ –∑–∞–±—É–ª–∏ –ø–∞—Ä–æ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø—ñ—Å–ª—è –∑–º—ñ–Ω–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ, –≤–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏:</p>
        <ol>
            <li>–ó—É–ø–∏–Ω—ñ—Ç—å –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—è–∫—â–æ –≤—ñ–Ω –∑–∞–ø—É—â–µ–Ω–∏–π)</li>
            <li>–ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç <code>reset_admin_password.bat</code> –∑ –∫–æ—Ä–µ–Ω–µ–≤–æ—ó –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –ø—Ä–æ–µ–∫—Ç—É</li>
            <li>–í–≤–µ–¥—ñ—Ç—å –Ω–æ–≤–∏–π –ø–∞—Ä–æ–ª—å –∑–∞ –∑–∞–ø–∏—Ç–æ–º</li>
            <li>–ó–∞–ø—É—Å—Ç—ñ—Ç—å –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–Ω–æ–≤—É —Ç–∞ —É–≤—ñ–π–¥—ñ—Ç—å –∑ –Ω–æ–≤–∏–º –ø–∞—Ä–æ–ª–µ–º</li>
        </ol>
        <div class="alert alert-warning mb-0">
            <i class="bi bi-exclamation-triangle"></i> 
            <strong>–£–≤–∞–≥–∞:</strong> –¶–µ–π –º–µ—Ç–æ–¥ –ø—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ –¥–ª—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞. 
            –î–ª—è –∑–≤–∏—á–∞–π–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –ø–∞—Ä–æ–ª—å –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä —á–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
        </div>
    </div>
</div>
{% endblock %}



